{"ast":null,"code":"var _jsxFileName = \"/home/operator3/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/newBD/front/src/components/pages/Countries.jsx\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from 'react-redux';\nimport { Header } from '../ui-components/Header'; // import cl from '../../../styles/Info.module.css';\n\nimport { countries } from '../dataBase/countries';\nimport { useState } from 'react/cjs/react.development'; // import Image from '../../ui-components/Image';\n\nimport { Image } from 'react-bootstrap';\nimport fs from 'fs';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport { TableComp } from '../ui-components/TableComp';\nimport { TableChars } from '../ui-components/TableChars';\nimport { Modal, Button } from 'react-bootstrap'; //const fetch = require('node-fetch');\n\nimport cl from '../../styles/Countries.module.css';\nimport { AddModal } from '../modals/AddModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Countries = props => {\n  _s();\n\n  //let arr = countries;\n  // let jsx = '';\n  // for (let el of arr)\n  // {\n  //     let fields = el.to;\n  //     jsx += <p>{el.name}</p>\n  //     for (let fi of fields)\n  //         jsx += <li>{fi}</li>\n  // }\n  let init = [];\n  const [body, setBody] = useState(init);\n  const [str, setStr] = useState({\n    country: 'Россия',\n    name: ''\n  });\n  const [isload, setLoad] = useState(false);\n  const [countNames, setCountNames] = useState([]);\n  const [arr, setArr] = useState([]);\n  const [countries, setCountries] = useState({});\n  const [urlName, setUrlName] = useState('');\n  const [name, setName] = useState('');\n  const [fname, setFname] = useState('');\n  const [capture, setCaptureFile] = useState({});\n  const [visible, setVisible] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [country, setCountry] = useState('Россия');\n  const [chars, setChars] = useState({});\n  const bodyStatic = ['Зига', \"Твой\", \"Дом\"];\n  console.log('country', country);\n  useEffect(async () => {\n    setLoad(false);\n    let fetchCounts;\n    fetchCounts = await axios.get('http://localhost:5000/countries');\n    fetchCounts = fetchCounts.data.countries;\n    setCountries(fetchCounts);\n    setArr(fetchCounts.map(el => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: el.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), el.to.map(name => /*#__PURE__*/_jsxDEV(\"li\", {\n          onMouseOver: () => showPic(true, name),\n          onMouseOut: () => showPic(false, name),\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 39\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this);\n    }));\n    setCountNames(fetchCounts.map(el => el.name));\n    setLoad(true);\n    console.log('countries', countries);\n  }, [countries.length]); //console.log(jsx)                 {\n  //                 countNames.map(el => <option>{el}</option>)\n  //                }\n\n  const showPic = (flag, name) => {\n    console.log('name', name);\n    setUrlName(`http://localhost:5000/image?name=${name}`);\n    setVisible(flag);\n  }; // const add = async () => {\n  //     setBody(prev => [...prev, { country: str.country, name: str.name }]);\n  //     let fetchCounts = await axios.get(`http://localhost:5000/add?country=${str.country}&name=${str.name}`);\n  //     fetchCounts = fetchCounts.data;\n  //     setCountries(fetchCounts);\n  //     setArr(fetchCounts.map(el => {\n  //         return (<div>\n  //             <p>{el.name}</p>\n  //             {\n  //                 el.to.map(name => <li onMouseOver={() => showPic(true, name)} onMouseOut={() => showPic(false, name)}>{name}</li>)\n  //             }\n  //         </div>);\n  //     }));\n  // }\n\n\n  const deleteById = async name => {\n    setBody(prev => prev.filter(el => el.name != name));\n    let fetchCounts = await axios.get(`http://localhost:5000/delete?country=${str.country}&name=${str.name}`);\n    fetchCounts = fetchCounts.data;\n    setCountries(fetchCounts);\n    setArr(fetchCounts.map(el => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: el.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), el.to.map(name => /*#__PURE__*/_jsxDEV(\"li\", {\n          onMouseOver: () => showPic(true, name),\n          onMouseOut: () => showPic(false, name),\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 39\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this);\n    })); // setCountries(prev => {\n    // console.log('delete name', name);\n    // setBody(prev => prev.filter(el => {\n    //     console.log('el', el);\n    //     return !String(el).includes(name);\n    // }\n    //     ));\n  };\n\n  const setNameFunc = e => {\n    setStr(prev => {\n      return { ...prev,\n        name: e.target.value\n      };\n    });\n  };\n\n  const getImage = async name => {\n    console.log('infunc');\n    let img = (await axios.get(`http://localhost:5000/image?name=${name}`)).data;\n    console.log('img', img);\n    return img;\n  };\n\n  const openModal = async name => {\n    console.log('aame', name);\n    setShowModal(true);\n    setName(name);\n    let chars = (await axios.get(`http://localhost:5000/info?name=${name}`)).data; //console.log('chars', chars);\n\n    setChars(chars);\n  };\n\n  const addNote = () => {\n    setShowAddModal(true);\n  };\n\n  const add = () => {\n    console.log('capt', capture);\n    const data = new FormData();\n    data.append('file', capture); //capture.map(dat => URL.createObjectURL(dat));\n\n    let url = URL.createObjectURL(capture);\n    console.log('url', url);\n    axios.post('http://localhost:5000/upload', data, {\n      headers: {\n        \"Content-type\": \"form/multipart\"\n      }\n    });\n  };\n\n  return isload ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cl.Countries,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      name: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u044B \\u043B\\u0438\\u0434\\u0435\\u0440\\u044B \\u043F\\u043E \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0441\\u0442\\u0432\\u0443 \\u0411\\u041F\\u041B\\u0410\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'space-between'\n        },\n        children: countries.length ? countries.map(count => {\n          return /*#__PURE__*/_jsxDEV(TableComp, {\n            style: {\n              width: '30px'\n            },\n            header: count.name,\n            body: count.to,\n            onOver: (flag, name) => showPic(flag, name),\n            onOut: (flag, name) => showPic(flag, name),\n            onClick: name => openModal(name),\n            propFlag: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 33\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0416\\u0434\\u0438\\u0442\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          margin: '10px'\n        },\n        onClick: addNote,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: visible ? 'flex' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(Image, {\n        src: urlName,\n        style: {\n          width: '320px',\n          height: '240px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      backdrop: \" static \",\n      keyboard: false,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [\" \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(TableChars, {\n          header: name,\n          body: chars\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Image, {\n          src: urlName,\n          style: {\n            width: '320px',\n            height: '240px',\n            margin: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(AddModal, {\n      show: showAddModal,\n      setShow: setShowAddModal,\n      setItem: setCountry,\n      item: country,\n      title: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\n      countries: countNames,\n      name: name,\n      setName: setName,\n      fname: fname,\n      setFname: setFname,\n      setCaptureFile: setCaptureFile,\n      capture: capture,\n      add: add\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u041F\\u0430\\u0434\\u0430\\u0436\\u0436\\u0438\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Countries, \"3Ccq7GPxVq/2Pe8yXM6E5zcFz2w=\");\n\n_c = Countries;\n\nvar _c;\n\n$RefreshReg$(_c, \"Countries\");","map":{"version":3,"sources":["/home/operator3/Документы/newBD/front/src/components/pages/Countries.jsx"],"names":["useSelector","Header","countries","useState","Image","fs","useEffect","axios","TableComp","TableChars","Modal","Button","cl","AddModal","Countries","props","init","body","setBody","str","setStr","country","name","isload","setLoad","countNames","setCountNames","arr","setArr","setCountries","urlName","setUrlName","setName","fname","setFname","capture","setCaptureFile","visible","setVisible","showModal","setShowModal","showAddModal","setShowAddModal","setCountry","chars","setChars","bodyStatic","console","log","fetchCounts","get","data","map","el","to","showPic","length","flag","deleteById","prev","filter","setNameFunc","e","target","value","getImage","img","openModal","addNote","add","FormData","append","url","URL","createObjectURL","post","headers","display","flexDirection","justifyContent","count","width","margin","height"],"mappings":"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","sourcesContent":["import { useSelector } from 'react-redux';\nimport {Header} from '../ui-components/Header'\n// import cl from '../../../styles/Info.module.css';\nimport { countries } from '../dataBase/countries';\nimport { useState } from 'react/cjs/react.development';\n// import Image from '../../ui-components/Image';\nimport { Image } from 'react-bootstrap';\nimport fs from 'fs';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport { TableComp } from '../ui-components/TableComp';\nimport { TableChars } from '../ui-components/TableChars';\nimport { Modal, Button } from 'react-bootstrap';\n//const fetch = require('node-fetch');\nimport cl from '../../styles/Countries.module.css'\nimport { AddModal } from '../modals/AddModal';\nexport const Countries = (props) => {\n\n    //let arr = countries;\n    // let jsx = '';\n    // for (let el of arr)\n    // {\n    //     let fields = el.to;\n    //     jsx += <p>{el.name}</p>\n    //     for (let fi of fields)\n    //         jsx += <li>{fi}</li>\n    // }\n    \n    let init = []\n    const [body, setBody] = useState(init);\n    const [str, setStr] = useState({ country: 'Россия', name: '' });\n    const [isload, setLoad] = useState(false);\n    const [countNames, setCountNames] = useState([]);\n    const [arr, setArr] = useState([]);\n    const [countries, setCountries] = useState({});\n    const [urlName, setUrlName] = useState('');\n    const [name, setName] = useState('');\n    const [fname, setFname] = useState('');\n    const [capture, setCaptureFile] = useState({});\n    const [visible, setVisible] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n    const [showAddModal, setShowAddModal] = useState(false);\n    const [country, setCountry] = useState('Россия')\n    const [chars, setChars] = useState({});\n    const bodyStatic = ['Зига', \"Твой\", \"Дом\"];\n    console.log('country', country);\n    useEffect(async () => {\n        setLoad(false);\n        let fetchCounts;\n        fetchCounts = await axios.get('http://localhost:5000/countries');\n        fetchCounts = fetchCounts.data.countries;\n        setCountries(fetchCounts);\n        \n        setArr(fetchCounts.map(el => {\n            return (<div>\n                <p>{el.name}</p>\n                {\n                    el.to.map(name => <li onMouseOver={() => showPic(true, name)} onMouseOut={() => showPic(false, name)}>{name}</li>)\n                }\n            </div>);\n        }));\n        setCountNames(fetchCounts.map(el => el.name));\n        setLoad(true);\n        console.log('countries', countries);\n    }, [countries.length]);\n\n    //console.log(jsx)                 {\n    //                 countNames.map(el => <option>{el}</option>)\n    //                }\n    const showPic = (flag, name) => {\n        console.log('name', name);\n        setUrlName(`http://localhost:5000/image?name=${name}`);\n        setVisible(flag);\n        \n    }\n\n    // const add = async () => {\n    //     setBody(prev => [...prev, { country: str.country, name: str.name }]);\n    //     let fetchCounts = await axios.get(`http://localhost:5000/add?country=${str.country}&name=${str.name}`);\n    //     fetchCounts = fetchCounts.data;\n    //     setCountries(fetchCounts);\n    //     setArr(fetchCounts.map(el => {\n    //         return (<div>\n    //             <p>{el.name}</p>\n    //             {\n    //                 el.to.map(name => <li onMouseOver={() => showPic(true, name)} onMouseOut={() => showPic(false, name)}>{name}</li>)\n    //             }\n    //         </div>);\n    //     }));\n    // }\n\n    const deleteById = async (name) => {\n        setBody(prev => prev.filter(el => el.name != name));\n\n        let fetchCounts = await axios.get(`http://localhost:5000/delete?country=${str.country}&name=${str.name}`);\n        fetchCounts = fetchCounts.data;\n        setCountries(fetchCounts);\n        setArr(fetchCounts.map(el => {\n            return (<div>\n                <p>{el.name}</p>\n                {\n                    el.to.map(name => <li onMouseOver={() => showPic(true, name)} onMouseOut={() => showPic(false, name)}>{name}</li>)\n                }\n            </div>);\n        }));\n        // setCountries(prev => {\n        // console.log('delete name', name);\n        // setBody(prev => prev.filter(el => {\n        //     console.log('el', el);\n        //     return !String(el).includes(name);\n        // }\n        //     ));\n    }\n\n    const setNameFunc = (e) => {\n        setStr(prev => {\n            return { ...prev, name: e.target.value };\n        })\n    }\n\n    const getImage = async (name) => {\n        console.log('infunc');\n         let img = (await axios.get(`http://localhost:5000/image?name=${name}`)).data;\n         console.log('img', img);\n         return img;\n    }\n\n    const openModal = async (name) => {\n        console.log('aame', name);\n        setShowModal(true);\n        setName(name);\n        let chars = (await axios.get(`http://localhost:5000/info?name=${name}`)).data;\n        //console.log('chars', chars);\n        setChars(chars);\n    }\n\n    const addNote = () => {\n        setShowAddModal(true);\n    }\n\n    const add = () => {\n        console.log('capt', capture);\n        const data = new FormData();\n        data.append('file', capture);\n        //capture.map(dat => URL.createObjectURL(dat));\n        let url = URL.createObjectURL(capture);\n        console.log('url', url);\n        axios.post('http://localhost:5000/upload', data, {\n            headers: {\n                \"Content-type\": \"form/multipart\"\n            }\n        });\n\n    }\n    return (\n        isload ?\n            <div className={cl.Countries}>\n                <Header name=\"Страны лидеры по производству БПЛА\" />\n                <div>\n                    <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\n                        {\n                        countries.length ?\n                        (\n                        countries.map(count => {\n                            return (\n                                <TableComp\n                                    style={{width: '30px'}}\n                                    header={count.name}\n                                    body={count.to}\n                                    onOver={(flag, name) => showPic(flag, name)}\n                                    onOut={(flag, name) => showPic(flag, name)}\n                                    onClick={(name) => openModal(name)}\n                                    propFlag={true}\n                                />\n                            )\n\n                        })\n                        )\n                        :\n                        <p>Ждите</p>\n                        }\n                    </div>\n                    <Button style={{margin: '10px'}} onClick={addNote}>+</Button>\n                </div>\n                    <div style={{display: visible ? 'flex' : 'none'}}>\n                        <Image src={urlName} style={{width: '320px', height: '240px'}} />\n                    </div>\n                    <Modal\n                        show ={ showModal }\n                        onHide={() => setShowModal(false)}\n                        backdrop =\" static \"\n                        keyboard ={ false }\n                    >\n                        < Modal.Header closeButton >\n                        < Modal.Title > {name}</ Modal.Title >\n                        </ Modal.Header >\n                        < Modal.Body >\n                            <TableChars\n                                header={name}\n                                body={chars}\n                            />\n                            <Image src={urlName} style={{width: '320px', height: '240px', margin: '10px'}} />\n                        </Modal.Body >\n                    </ Modal >\n\n                    <AddModal\n                        show={showAddModal}\n                        setShow={setShowAddModal}\n                        setItem={setCountry}\n                        item={country}\n                        title=\"Добавить\"\n                        countries={countNames}\n                        name={name}\n                        setName={setName}\n                        fname={fname}\n                        setFname={setFname}\n                        setCaptureFile={setCaptureFile}\n                        capture={capture}\n                        add={add}\n                    />\n            </div>\n            :\n            <div>\n                Падажжи\n            </div>\n            \n    );\n}\n"]},"metadata":{},"sourceType":"module"}